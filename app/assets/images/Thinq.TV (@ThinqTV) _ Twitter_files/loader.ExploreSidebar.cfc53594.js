(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{"A+RP":function(e,t,n){"use strict";n.r(t);var r,a,o=n("PJYZ"),i=n.n(o),c=n("VbXa"),s=n.n(c),d=n("lSNA"),l=n.n(d),u=n("ERkP"),p=(n("PN9k"),n("R972")),m=n("VPAj"),f=n("8UdT"),b=n("xN10"),h=n("oEGd"),y=n("zh9S"),_={scribeAction:y.c},g=Object(h.b)(_),T=n("7JQg"),E=n("3XMw"),v=n.n(E),k=n("caTy"),w=n("zML4"),S=n("NxHW"),x=n("3xO4"),C=n.n(x),M=n("hxu0"),O=n("6vad"),I=n("rC8y"),j=v.a.e1b61d44,A=v.a.e05b3b2d,F=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,l()(i()(r),"_handleShowMoreInlineClick",(function(){var e=r.props.onClick;r.setState({showMoreTrends:!0}),e("show_more_inline")})),l()(i()(r),"_handleShowMoreClick",(function(){(0,r.props.onClick)("show_more")})),r.state={showMoreTrends:!1},r}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.trends,n=e.scribeAction,r=e.scribeNamespace;t&&t.length>0&&n(Object.assign({},r,{component:"explore_sidebar",action:"impression"}))},n.canShowMoreTrends=function(){var e=this.props.trends;return!this.state.showMoreTrends&&e.length>5},n.render=function(){var e=this.props,t=e.footer,n=e.headerTitle,r=e.isInSidebar,a=u.createElement(w.a,{to:"/settings/trends"}),o=r?Object(S.a)():void 0;return u.createElement(C.a,null,u.createElement(O.a,{rightControl:a,text:n||j}),this._renderTrends(),this.canShowMoreTrends()?u.createElement(I.a,{interactiveStyles:o,onPress:this._handleShowMoreInlineClick,text:A}):!!t&&u.createElement(I.a,{interactiveStyles:o,link:t.landingUrl?Object(k.b)(t.landingUrl):void 0,onPress:this._handleShowMoreClick,text:t.text}))},n._renderTrends=function(){var e=this.props.trends;return(this.state.showMoreTrends?e:e.slice(0,5)).map((function(e){return u.createElement(u.Fragment,{key:e.key},e.item)}))},t}(u.Component),P=Object(T.d)()(g(Object(M.a)(F))),R=n("5Y9N"),N=n("XtkE"),U=((r={})[f.a.TimelineCursor]=p.d(p.a()),r[f.a.Label]=p.d(p.a()),r[f.a.Message]=p.d(p.a()),r[f.a.Moment]=p.d(p.a()),r[f.a.EventSummary]=p.d(p.a()),r[f.a.News]=p.d(p.a()),r[f.a.Trend]=Object(N.a)({withThirdPartyCards:!1,errorContext:"EXPLORE_SIDEBAR"}),r),D=((a={}).TrendsModule=p.f({bindActions:function(){return{scribeAction:y.c}},component:P,createProps:function(e){var t=e.entry,n=e.renderEntry,r=e.scribeNamespace,a=e.actions.scribeAction,o=t.content,i=o.footer,c=o.header,s=o.items;return{footer:i,headerTitle:c&&c.text,onClick:function(e){a(Object.assign({},r,{element:e,action:"click"}))},trends:s.map((function(e){return{item:n(e),key:e.entryId}}))}},shouldDisplayBorder:Object(m.a)(!1)}),a),z=Object.assign({},Object(R.a)({customHandlers:D,customSelectDisplayType:function(e){return(t=e.content.items).length>0&&Object(b.a)(t,(function(e){return e.type===f.a.Trend}))?"TrendsModule":e.content.displayType;var t}}),{},U),L=n("fTQJ"),H=n("b8qQ"),G=n("B5iK"),V=n("Kzn8"),X=n.n(V),W=n("FIs5"),B=n("I7xG"),K=n("BxsD");n.d(t,"UPDATE_INTERVAL",(function(){return Z})),n.d(t,"ExploreSidebar",(function(){return q}));var J=v.a.f9ef5332,Q=v.a.e7f88406,Z=3e5,Y=function(){return u.createElement(W.a,{message:Q})},q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,l()(i()(t),"_getModuleWithProfileUserId",Object(B.a)(i()(t),(function(e){return e.profileUserId}),(function(e){return Object(K.c)({displayLocation:K.a.WebSidebar,profileUserId:e})}))),l()(i()(t),"_setTimelineRef",(function(e){t._timeline=e,e&&t._startTimer()})),l()(i()(t),"_startTimer",(function(){t._stopTimer(),t._timer=new G.b(Z).interval(t._fetchUpdates),t._timer.start()})),l()(i()(t),"_stopTimer",(function(){t._timer&&t._timer.stop(),t._timer=void 0})),l()(i()(t),"_onAppForegrounded",(function(e){"active"===e&&t._fetchUpdates()})),l()(i()(t),"_fetchUpdates",(function(){t._timeline&&"active"===X.a.currentState&&t._timeline.fetchTop({})})),t}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){X.a.addEventListener("change",this._onAppForegrounded)},n.componentWillUnmount=function(){this._stopTimer(),X.a.removeEventListener("change",this._onAppForegrounded)},n.render=function(){var e=this.props.profileUserId?this._getModuleWithProfileUserId():K.e;return u.createElement(C.a,null,u.createElement(L.a,{entryConfiguration:z,module:e,renderUnavailable:Y,scroller:H.a,showFooter:!1,timelineRef:this._setTimelineRef,title:J,withInstreamVideo:!1}))},t}(u.Component);t.default=q},BxsD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return p}));n("PN9k"),n("KYm4");var r=n("ZNT5"),a=n("eR3e"),o=Object.freeze({Trends:"trends"}),i=Object.freeze({WebSidebar:"web_sidebar"}),c="explore-",s=function(e){var t=void 0===e?{}:e,n=t.contentType,a=t.displayLocation,o=t.profileUserId,i=n||a||"main",s=o?""+c+i+"-"+o:""+c+i;return Object(r.a)({timelineId:s,getEndpoint:function(e){return e.URT.fetchExplore},getEndpointParams:function(e){return Object.assign({candidate_source:n,display_location:a,profile_user_id:o},e)},context:"FETCH_EXPLORE",perfKey:""+c+i,staleIntervalMs:9e5})},d=s(),l=s({contentType:o.Trends}),u=s({displayLocation:i.WebSidebar}),p=function(){return function(e,t){return e(Object(a.m)(t()).filter((function(e){return 0===e.indexOf(c)})).map((function(e){return Object(a.d)(e)})))}}},XtkE:function(e,t,n){"use strict";var r=n("R972"),a=(n("PN9k"),n("yIC7"),n("6rlp")),o=n("ERkP"),i=n("1YZw"),c=n("vjRr"),s=n("VPAj"),d=n("0KEI"),l=n("NnR4"),u=n("caTy"),p=n("cFuS"),m=n("NeVM"),f=n("zh9S"),b=n("Rp9C"),h=n("X04g"),y=(n("rmZQ"),n("NlgC"),n("0rpg"),n("VbXa")),_=n.n(y),g=n("wrlS"),T=n("NxHW"),E=n("zOwA"),v="metadata",k="trend",w=n("3xO4"),S=n.n(w),x=n("hxu0"),C=n("htQn"),M=n("pjBI"),O=n("t62R"),I=n("e5HP"),j=n("rHpw"),A=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,F=function(e){function t(){return e.apply(this,arguments)||this}_()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.attachment,n=e.description,r=e.domainContext,a=e.isInSidebar,i=e.link,c=e.name,s=e.onClick,d=e.rank,l=e.trendFeedbackMenu,u=c.replace("#","").charAt(0).match(A)?"rtl":"ltr",p=i&&("string"==typeof i?{pathname:i}:i);return o.createElement(o.Fragment,null,o.createElement(C.a,{interactiveStyles:a?Object(T.a)():void 0,link:p?Object.assign({},p,{anchorless:!0}):void 0,onPress:s,style:R.rootLink,testID:k},o.createElement(S.a,{style:R.content},o.createElement(M.a,null,d?o.createElement(O.b,{color:"deepGray",importantForAccessibility:"no-hide-descendants",size:"small"},d):null,o.createElement(O.b,{color:"deepGray",size:"small"},r||null)),o.createElement(O.b,{dir:u,style:R.name,weight:"bold",withHashflags:!0},c),o.createElement(O.b,{color:"deepGray",style:R.description},n),t?o.createElement(S.a,{style:R.attachment},t):null,this._renderMetadata(),o.createElement(S.a,{style:R.trendFeedbackMenuContainer},l))))},n._renderMetadata=function(){var e,t=this.props,n=t.isInSidebar,r=t.metaDescription,a=t.promotedContent,i=t.socialProofUser,c=n&&g.a.isTrue("responsive_web_trends_modification_hide_social_proof");return a?e=o.createElement(I.a,{label:r,promotedContent:a}):c?e=null:i&&r?e=o.createElement(E.a,{image:i.profile_image_url_https,key:i.id_str,label:r,textSize:"small"}):r&&(e=r),e?o.createElement(O.b,{color:"deepGray",size:"small",style:R.withMarginTop,testID:v},e):null},t}(o.Component),P=Object(x.a)(F),R=j.a.create((function(e){return{rootLink:{display:"flex",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},trendFeedbackMenuContainer:{position:"absolute",top:1,right:0},attachment:{alignSelf:"stretch",paddingBottom:e.spaces.xxSmall,paddingTop:e.spaces.xSmall},description:{paddingTop:e.spaces.micro},content:{flexGrow:1,position:"relative"},name:{paddingTop:e.spaces.micro},withMarginTop:{marginTop:e.spaces.xxSmall}}})),N=n("G6rE"),U=n("SMZj"),D=function(e){var t=e.content,n=t.name,r=t.promotedMetadata,a=Object.assign({item_type:h.a.ItemType.TREND,item_query:n,name:n},b.a.getGuideDetails(e));return r&&(a.disclosure_type=r.disclosureType),a},z=function(e){return e&&e.promotedTrendId?{disclosure_type:e.disclosureType,impression_id:e.promotedTrendId}:void 0},L=function(e,t){if(e&&e.length>0){var n=e[0];if(!t&&Object(U.h)(n.name)!==U.d.EVENT)return;var r="summary_large_image"===n.name?"summary":n.name;return n.trends_horizon_web_card_binding_values?o.createElement(l.a,{card:{url:n.url,name:r,binding_values:n.trends_horizon_web_card_binding_values,users:n.users},cardContext:{locationKey:"trend",tweetUserId:"TREND_CARD_NO_TWEET_USER_ID"},cardState:"secondary"}):void 0}},H=function(e){var t=e.entry;return{cards:c.a.createManyHydratedSelector(t.content.associatedCardUrls||[]),socialProofUsers:function(e){return N.e.selectMany(e,t.content.associatedUserIds||[])}}},G=function(e,t){return r.f({isFocusable:Object(s.a)(!0),component:P,bindActions:function(e){var n=e.module;return{applyFeedbackAction:n.applyFeedbackAction,undoFeedbackAction:n.undoFeedbackAction,addToast:i.b,logTrend:a.c,scribe:f.c,createLocalApiErrorHandler:Object(d.b)(t)}},selectData:H,createProps:function(t){var n=t.actions,r=n.addToast,a=n.applyFeedbackAction,o=n.logTrend,i=n.scribe,c=n.undoFeedbackAction,s=n.createLocalApiErrorHandler,d=t.data,l=d.cards,f=d.socialProofUsers,b=t.entry,h=t.module.selectFeedbackActions,y=t.scribeNamespace,_=b.content,g=_.promotedMetadata;return{attachment:L(l,e),description:_.description,domainContext:_.trendMetadata.domainContext,link:Object(u.b)(_.url),metaDescription:_.trendMetadata&&_.trendMetadata.metaDescription,name:_.name,onClick:function(){i(Object.assign({},y,{action:"search"}),{items:[D(b)]}),g&&g.promotedTrendId&&o({promoted_trend_id:g.promotedTrendId,event:p.d.CLICK}).catch(s())},promotedContent:z(g),rank:_.rank,trendFeedbackMenu:Object(m.a)({entry:b,applyFeedbackAction:a,undoFeedbackAction:c,addToast:r,selectFeedbackActions:h,scribe:i,scribeNamespace:y}),socialProofUser:f&&f[0]}},onImpression:function(e){var t=e.entry,n=e.actions,r=n.logTrend,a=n.createLocalApiErrorHandler,o=t.content.promotedMetadata;o&&o.promotedTrendId&&r({promoted_trend_id:o.promotedTrendId,event:p.d.IMPRESSION}).catch(a())}})};t.a=function(e){var t=e.withThirdPartyCards,n=void 0!==t&&t,a=e.errorContext;return r.d(G(n,a))}},zOwA:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("VbXa"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("ERkP"),s=n("9Xij"),d=n("t62R"),l=n("rHpw"),u=n("D4le"),p=n.n(u),m=n("3xO4"),f=n.n(m),b=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.image,r=e.label,a=e.textSize;return c.createElement(f.a,{style:h.root},n?c.createElement(f.a,{style:h.imageContainer},c.createElement(s.a,{ratio:1},c.createElement(p.a,{source:n,style:h.image}))):null,c.createElement(d.b,{color:t,size:a},r))},t}(c.PureComponent);i()(b,"defaultProps",{color:"deepGray",textSize:"normal"});var h=l.a.create((function(e){return{root:{alignItems:"center",flexDirection:"row"},imageContainer:{alignSelf:"flex-start",backgroundColor:e.colors.lightGray,flexShrink:0,height:e.fontSizes.large,marginRight:e.spaces.xxSmall,width:e.fontSizes.large,borderRadius:"100%"},image:{height:"100%",width:"100%",borderRadius:e.borderRadii.infinite}}}))}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.ExploreSidebar.cfc53594.js.map